<template>
    <div>
        <lightning-input
            type="file"
            name="fileUploader"
            label="Select file to upload"
            multiple="false"
            accept="*/*"
            onchange={handleInputChange}
        ></lightning-input>
    </div>
    <template if:true={fileName}>
        <div>
            <p>Selected file:</p>
            <p>{fileName}</p>
            <div class="inputs">
                <lightning-input
                    type="text"
                    name="fileTitle"
                    label="Title"
                    value={fieldValues.fileTitle}
                    onchange={handleInputChange}
                ></lightning-input>
                <lightning-input
                    type="text"
                    name="fileDesc"
                    label="Description"
                    value={fieldValues.fileDesc}
                    onchange={handleInputChange}
                ></lightning-input>
                <template lwc:if={customField}>
                    <lightning-input
                        type="text"
                        label={customFieldLabel}
                        value={fieldValues.customField}
                        onchange={handleInputChange}
                    ></lightning-input>  
                </template>          
            </div>
            <lightning-button
                class="slds-var-p-around_small"
                label="Upload"
                variant="Brand"
                disabled={uploadingFile}
                onclick={handleUploadFile}
            >
                <label>Upload</label>
            </lightning-button>
        </div>
    </template>
    <template if:true={errorMessage}>
        <div class="slds-var-p-around_small">
            <lightning-card title="Error">
                <div slot="default">{errorMessage}</div>
            </lightning-card>
        </div>
    </template>
</template>